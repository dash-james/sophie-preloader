/*
 pace.js v1.2.4
 https://github.com/CodeByZach/pace/
 Licensed MIT ? HubSpot, Inc.
*/
(function(){var J,U,p,l,V,A,K,L,f,W,X,M,Y,Z,B,q,aa,r,C,D,u,E,N,O,n,ba,t,g,F,P,ca,z,Q,G,m,y,R,v,H,S,I,da,T,ia,ea,w=[].slice,fa={}.hasOwnProperty,ga=function(a,b){function c(){this.constructor=a}for(var d in b)fa.call(b,d)&&(a[d]=b[d]);c.prototype=b.prototype;a.prototype=new c;a.__super__=b.prototype;return a},ja=[].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},ha=function(a,b){return function(){return a.apply(b,arguments)}};p={className:"",catchupTime:100,
initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:".pace",elements:{checkInterval:100,selectors:[".pace"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}};t=function(){var a;return null!=(a="undefined"!==typeof performance&&null!==performance?"function"===typeof performance.now?performance.now():void 0:void 0)?a:+new Date};F=window.requestAnimationFrame||
window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;D=window.cancelAnimationFrame||window.mozCancelAnimationFrame;B=function(a,b,c){return"function"===typeof a.addEventListener?a.addEventListener(b,c,!1):function(){if("function"!==typeof a["on"+b]||"object"!==typeof a["on"+b].eventListeners){var d=new K;if("function"===typeof a["on"+b])d.on(b,a["on"+b]);a["on"+b]=function(a){return d.trigger(b,a)};a["on"+b].eventListeners=d}else d=a["on"+b].eventListeners;
d.on(b,c)}()};null==F&&(F=function(a){return setTimeout(a,50)},D=function(a){return clearTimeout(a)});ca=function(a){var b,c;b=t();c=function(){var d;d=t()-b;return 33<=d?(b=t(),a(d,function(){return F(c)})):setTimeout(c,33-d)};return c()};P=function(){var a,b,c;c=arguments[0];b=arguments[1];a=3<=arguments.length?w.call(arguments,2):[];return"function"===typeof c[b]?c[b].apply(c,a):c[b]};u=function(){var a,b,c,d,e,k,h;b=arguments[0];d=2<=arguments.length?w.call(arguments,1):[];k=0;for(h=d.length;k<
h;k++)if(c=d[k])for(a in c)fa.call(c,a)&&(e=c[a],null!=b[a]&&"object"===typeof b[a]&&null!=e&&"object"===typeof e?u(b[a],e):b[a]=e);return b};aa=function(a){var b,c,d,e,k;e=c=b=0;for(k=a.length;e<k;e++)d=a[e],c+=Math.abs(d),b++;return c/b};l=function(){function a(){}a.prototype.on=function(b,a,d,e){var c;null==e&&(e=!1);null==this.bindings&&(this.bindings={});null==(c=this.bindings)[b]&&(c[b]=[]);return this.bindings[b].push({handler:a,ctx:d,once:e})};a.prototype.once=function(b,a,d){return this.on(b,
a,d,!0)};a.prototype.off=function(b,a){var c,e;if(null!=(null!=(c=this.bindings)?c[b]:void 0)){if(null==a)return delete this.bindings[b];c=0;for(e=[];c<this.bindings[b].length;)this.bindings[b][c].handler===a?e.push(this.bindings[b].splice(c,1)):e.push(c++);return e}};a.prototype.trigger=function(){var b,a,d,e,k,h,f;d=arguments[0];b=2<=arguments.length?w.call(arguments,1):[];if(null!=(a=this.bindings)&&a[d]){k=0;for(f=[];k<this.bindings[d].length;)h=this.bindings[d][k],e=h.handler,a=h.ctx,h=h.once,
e.apply(null!=a?a:this,b),h?f.push(this.bindings[d].splice(k,1)):f.push(k++);return f}};return a}();f=window.Pace||{};window.Pace=f;u(f,l.prototype);g=f.options=u({},p,window.paceOptions,function(a,b){var c;null==a&&(a="options");null==b&&(b=!0);if(c=document.querySelector("[data-pace-"+a+"]")){c=c.getAttribute("data-pace-"+a);if(!b)return c;try{return JSON.parse(c)}catch(d){return"undefined"!==typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}}());T=["ajax",
"document","eventLag","elements"];l=0;for(A=T.length;l<A;l++)m=T[l],!0===g[m]&&(g[m]=p[m]);L=function(a){function b(){return ia=b.__super__.constructor.apply(this,arguments)}ga(b,a);return b}(Error);U=function(){function a(){this.progress=0}a.prototype.getElement=function(){var b;if(null==this.el){b=document.querySelector(g.target);if(!b)throw new L;this.el=document.querySelector(".pace");document.body.className=document.body.className.replace(/(pace-done )|/,"pace-running ")}return this.el};a.prototype.finish=
function(){var b;b=this.getElement();b.className=b.className.replace("pace-active","pace-inactive");return document.body.className=document.body.className.replace("pace-running ","pace-done ")};a.prototype.update=function(b){this.progress=b;f.trigger("progress",b);return this.render()};a.prototype.destroy=function(){return this.el=void 0};a.prototype.render=function(){var b,a,d,e,k,h;if(null==document.querySelector(g.target))return!1;b=document.querySelector(".pace");d="translate3d("+this.progress+
"%, 0, 0)";h=["webkitTransform","msTransform","transform"];e=0;for(k=h.length;e<k;e++)a=h[e],b.children[0].style[a]=d;if(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)b.children[0].setAttribute("data-progress-text",""+(this.progress|0)+"%"),100<=this.progress?a="99":(a=10>this.progress?"0":"",a+=this.progress|0),b.children[0].setAttribute("data-progress",""+a);f.trigger("change",this.progress);return this.lastRenderedProgress=this.progress};a.prototype.done=function(){return 100<=
this.progress};return a}();K=function(){function a(){this.bindings={}}a.prototype.trigger=function(b,a){var c,e,k,h,f;if(null!=this.bindings[b]){h=this.bindings[b];f=[];e=0;for(k=h.length;e<k;e++)c=h[e],f.push(c.call(this,a));return f}};a.prototype.on=function(b,a){var c;null==(c=this.bindings)[b]&&(c[b]=[]);return this.bindings[b].push(a)};return a}();S=window.XMLHttpRequest;H=window.XDomainRequest;v=window.WebSocket;E=function(a,b){var c,d;d=[];for(c in b.prototype)try{null==a[c]&&"function"!==
typeof b[c]?"function"===typeof Object.defineProperty?d.push(Object.defineProperty(a,c,{get:function(a){return function(){return b.prototype[a]}}(c),configurable:!0,enumerable:!0})):d.push(a[c]=b.prototype[c]):d.push(void 0)}catch(e){}return d};n=[];f.ignore=function(){var a,b;b=arguments[0];a=2<=arguments.length?w.call(arguments,1):[];n.unshift("ignore");a=b.apply(null,a);n.shift();return a};f.track=function(){var a,b;b=arguments[0];a=2<=arguments.length?w.call(arguments,1):[];n.unshift("track");
a=b.apply(null,a);n.shift();return a};G=function(a){var b;null==a&&(a="GET");return"track"===n[0]?"force":!n.length&&g.ajax&&("socket"===a&&g.ajax.trackWebSockets||(b=a.toUpperCase(),0<=ja.call(g.ajax.trackMethods,b)))?!0:!1};W=function(a){function b(){var a,d=this;b.__super__.constructor.apply(this,arguments);a=function(b){var a;a=b.open;return b.open=function(c,e,k){G(c)&&d.trigger("request",{type:c,url:e,request:b});return a.apply(b,arguments)}};window.XMLHttpRequest=function(b){b=new S(b);a(b);
return b};try{E(window.XMLHttpRequest,S)}catch(e){}if(null!=H){window.XDomainRequest=function(){var b;b=new H;a(b);return b};try{E(window.XDomainRequest,H)}catch(e){}}if(null!=v&&g.ajax.trackWebSockets){window.WebSocket=function(b,a){var c;c=null!=a?new v(b,a):new v(b);G("socket")&&d.trigger("request",{type:"socket",url:b,protocols:a,request:c});return c};try{E(window.WebSocket,v)}catch(e){}}}ga(b,a);return b}(K);I=null;N=function(){null==I&&(I=new W);return I};Q=function(a){var b,c,d,e;e=g.ajax.ignoreURLs;
c=0;for(d=e.length;c<d;c++)if(b=e[c],"string"===typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1};N().on("request",function(a){var b,c,d,e;e=a.type;d=a.request;if(!(Q(a.url)||f.running||!1===g.restartOnRequestAfter&&"force"!==G(e)))return c=arguments,b=g.restartOnRequestAfter||0,"boolean"===typeof b&&(b=0),setTimeout(function(){var b,a,g,x;if("socket"===e?1>d.readyState:0<(b=d.readyState)&&4>b){f.restart();g=f.sources;x=[];b=0;for(a=g.length;b<a;b++)if(m=g[b],m instanceof
J){m.watch.apply(m,c);break}else x.push(void 0);return x}},b)});J=function(){function a(){this.complete=ha(this.complete,this);var b=this;this.elements=[];N().on("request",function(){return b.watch.apply(b,arguments)})}a.prototype.watch=function(b){var a,d;d=b.type;a=b.request;if(!Q(b.url))return b="socket"===d?new Y(a,this.complete):new Z(a,this.complete),this.elements.push(b)};a.prototype.complete=function(b){return this.elements=this.elements.filter(function(a){return a!==b})};return a}();Z=function(){return function(a,
b){var c,d,e,f,h,g=this;this.progress=0;if(null!=window.ProgressEvent)for(B(a,"progress",function(b){return b.lengthComputable?g.progress=100*b.loaded/b.total:g.progress+=(100-g.progress)/2},!1),h=["load","abort","timeout","error"],d=0,e=h.length;d<e;d++)c=h[d],B(a,c,function(){b(g);return g.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var c;0===(c=a.readyState)||4===c?(b(g),g.progress=100):3===a.readyState&&(g.progress=50);return"function"===typeof f?f.apply(null,
arguments):void 0}}}();Y=function(){return function(a,b){var c,d,e,f,g=this;this.progress=0;f=["error","open"];d=0;for(e=f.length;d<e;d++)c=f[d],B(a,c,function(){b(g);return g.progress=100},!1)}}();l=function(){function a(b){var a,d,e;null==b&&(b={});this.complete=ha(this.complete,this);this.elements=[];null==b.selectors&&(b.selectors=[]);e=b.selectors;a=0;for(d=e.length;a<d;a++)b=e[a],this.elements.push(new V(b,this.complete))}a.prototype.complete=function(b){return this.elements=this.elements.filter(function(a){return a!==
b})};return a}();V=function(){function a(b,a){this.selector=b;this.completeCallback=a;this.progress=0;this.check()}a.prototype.check=function(){var b=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return b.check()},g.elements.checkInterval)};a.prototype.done=function(){this.completeCallback(this);this.completeCallback=null;return this.progress=100};return a}();p=function(){function a(){var b,a,d=this;this.progress=null!=(a=this.states[document.readyState])?a:100;
b=document.onreadystatechange;document.onreadystatechange=function(){null!=d.states[document.readyState]&&(d.progress=d.states[document.readyState]);return"function"===typeof b?b.apply(null,arguments):void 0}}a.prototype.states={loading:0,interactive:50,complete:100};return a}();A=function(){return function(){var a,b,c,d,e,f=this;a=this.progress=0;e=[];d=0;c=t();b=setInterval(function(){var h;h=t()-c-50;c=t();e.push(h);e.length>g.eventLag.sampleCount&&e.shift();a=aa(e);return++d>=g.eventLag.minSamples&&
a<g.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=3/(a+3)*100},50)}}();M=function(){function a(b){this.source=b;this.last=this.sinceLastUpdate=0;this.rate=g.initialRate;this.progress=this.lastProgress=this.catchup=0;null!=this.source&&(this.progress=P(this.source,"progress"))}a.prototype.tick=function(b,a){null==a&&(a=P(this.source,"progress"));100<=a&&(this.done=!0);a===this.last?this.sinceLastUpdate+=b:(this.sinceLastUpdate&&(this.rate=(a-this.last)/this.sinceLastUpdate),this.catchup=
(a-this.progress)/g.catchupTime,this.sinceLastUpdate=0,this.last=a);a>this.progress&&(this.progress+=this.catchup*b);this.progress+=(1-Math.pow(this.progress/100,g.easeFactor))*this.rate*b;this.progress=Math.min(this.lastProgress+g.maxProgressPerFrame,this.progress);this.progress=Math.max(0,this.progress);return this.lastProgress=this.progress=Math.min(100,this.progress)};return a}();C=q=R=r=z=y=null;f.running=!1;O=function(){if(g.restartOnPushState)return f.restart()};null!=window.history.pushState&&
(da=window.history.pushState,window.history.pushState=function(){O();return da.apply(window.history,arguments)});null!=window.history.replaceState&&(ea=window.history.replaceState,window.history.replaceState=function(){O();return ea.apply(window.history,arguments)});X={ajax:J,elements:l,document:p,eventLag:A};(ba=function(){var a,b,c,d,e;f.sources=y=[];e=["ajax","elements","document","eventLag"];b=0;for(d=e.length;b<d;b++)a=e[b],!1!==g[a]&&y.push(new X[a](g[a]));a=null!=(c=g.extraSources)?c:[];c=
0;for(b=a.length;c<b;c++)m=a[c],y.push(new m(g));f.bar=r=new U;z=[];return R=new M})();f.stop=function(){f.trigger("stop");f.running=!1;r.destroy();C=!0;null!=q&&("function"===typeof D&&D(q),q=null);return ba()};f.restart=function(){f.trigger("restart");f.stop();return f.start()};f.go=function(){var a;f.running=!0;r.render();a=t();C=!1;return q=ca(function(b,c){var d,e,k,h,l,x,n,p,q,u,v,w;d=n=0;e=!0;h=p=0;for(u=y.length;p<u;h=++p)for(m=y[h],x=null!=z[h]?z[h]:z[h]=[],h=null!=(w=m.elements)?w:[m],l=
q=0,v=h.length;q<v;l=++q)k=h[l],k=null!=x[l]?x[l]:x[l]=new M(k),e&=k.done,k.done||(d++,n+=k.tick(b));r.update(R.tick(b,n/d));return r.done()||e||C?(r.update(100),f.trigger("done"),setTimeout(function(){r.finish();f.running=!1;return f.trigger("hide")},Math.max(g.ghostTime,Math.max(g.minTime-(t()-a),0)))):c()})};f.start=function(a){u(g,a);f.running=!0;try{r.render()}catch(b){L=b}return document.querySelector(".pace")?(f.trigger("start"),f.go()):setTimeout(f.start,50)};"function"===typeof define&&define.amd?
define(function(){return f}):"object"===typeof exports?module.exports=f:g.startOnPageLoad&&f.start()}).call(this);
